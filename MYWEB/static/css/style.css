/* small helpers */
:root {
  --cyan: #22D3EE;
  --bg: #030712;
}

/* spinner slower */
@keyframes spin-slower {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
.animate-spin-slower {
  animation: spin-slower 3s linear infinite;
}

/* slow spin */
@keyframes spin-slow {
    from { transform: rotate(0deg); }
    to { transform: rotate(360deg); }
}
.animate-spin-slow {
    animation: spin-slow 10s linear infinite;
}

/* subtle glow box shadow */
.shadow-glow {
  box-shadow: 0 12px 30px rgba(34,211,238,0.08);
}

/* mobile menu animation placeholder */
.menu-icon span { transition: transform .3s ease, opacity .3s ease; }

/* hide preloader if JS disabled */
#preloader { transition: opacity 0.6s ease; }

/* small particle canvas default */
#particles-canvas { z-index: 0; }

/* testimonial transitions */
.testi-item { transition: opacity .6s, transform .6s; }

/* smooth-scroll anchor default & extra width fix */
html { 
  scroll-behavior: smooth; 
  /* अनावश्यक हॉरिजॉन्टल स्क्रॉलिंग को ठीक करता है */
  overflow-x: hidden; 
}

/* Initial state for animated elements - let JS handle this */
[data-scroll-fade] {
  opacity: 0;
  transform: translateY(18px);
  visibility: hidden;
  transition: opacity 520ms cubic-bezier(.22,.9,.32,1), transform 520ms cubic-bezier(.22,.9,.32,1);
}

/* Active state applied by JS when element should be visible */
.reveal-active {
  opacity: 1 !important;
  transform: translateY(0) !important;
  visibility: visible !important;
}

/* Hero-specific small stagger helper */
.hero-item { opacity: 0; transform: translateY(20px); visibility: hidden; }
.hero-item.show { opacity: 1; transform: translateY(0); visibility: visible; transition: opacity 600ms ease, transform 600ms ease; }

/* Debug panel styles */
#debug-info {
  font-family: monospace;
  background: rgba(0, 0, 0, 0.8);
  color: #fff;
  padding: 8px;
  font-size: 12px;
  z-index: 9999;
}

/* slightly reduce image brightness on hover cards */
.project-card img { transition: transform .3s ease, filter .3s ease; }
.project-card:hover img { transform: scale(1.03); filter: brightness(1.02); }

/* chat widget */
#chat-panel { transition: transform .25s cubic-bezier(.2,.9,.2,1), opacity .25s; }

/* skill fill transition */
.skill-fill { transition: width 1.2s ease; }

/* Make images responsive and prevent overflow */
img { max-width: 100%; height: auto; display: block; }

/* Responsive typography for hero and other large headings */
h1 { font-size: clamp(1.75rem, 4vw, 4rem); }
.typing-target { font-size: clamp(1.1rem, 2.2vw, 1.75rem); }

/* Reduce visual noise on very small screens */
@media (max-width: 767px) {
  /* Hide particles for small screens to improve perf */
  #particles-canvas { display: none !important; }

  /* Smaller preloader spinner */
  #preloader .w-28.h-28 { width: 5.5rem; height: 5.5rem; }

  /* Tighter hero spacing */
  #hero { padding-top: 3.5rem; padding-bottom: 3.5rem; }

  /* Make nav items smaller and stack if needed */
  #main-header .text-2xl { font-size: 1.125rem; }

  /* Reduce card paddings and sizes */
  .project-card .p-6 { padding: 1rem; }

  /* Chat widget smaller */
  #chat-panel { width: calc(100vw - 40px); right: 10px; left: 10px; }
}

/* Very small devices tweaks */
@media (max-width: 420px) {
  .typing-target { font-size: 1rem; }
  .project-card img { height: 200px; object-fit: cover; }
}






/* --------------------------------- */
/* LIGHT MODE OVERRIDES (REDESIGNED) */
/* --------------------------------- */
.light-mode {
  /* Soft Off-White Background for body */
  background-color: #fcfcfc !important; 
  /* Primary Text Color (Dark Slate-900) */
  color: #0f172a !important; 
}

/* Header, Section Backgrounds and Cards */
.light-mode .bg-gray-900,
.light-mode .bg-gray-800,
.light-mode .bg-gray-950,
.light-mode #main-header {
  /* Pure White background for Sections and Cards to stand out */
  background-color: #ffffff !important; 
}

/* Contact Form Input Background */
.light-mode #contact-form input,
.light-mode #contact-form textarea,
.light-mode #chat-log {
    background-color: #f8fafc !important; /* Very Light Grey for inputs */
}

/* --- Text Color Overrides --- 
   Ensuring all text is dark and readable
*/
.light-mode .text-gray-100, /* Used for titles, should be dark */
.light-mode .text-gray-200,
.light-mode .text-gray-300 { 
  color: #1e293b !important; /* Darker Slate for primary/bold text */
}

.light-mode .text-gray-400, /* Used for secondary text/paragraphs */
.light-mode .text-gray-500 {
  color: #475569 !important; /* Medium Slate for supporting text */
}

/* Hero section specific background fix for light mode */
.light-mode #hero {
    background-color: #fcfcfc !important;
}

/* Borders in Light Mode */
.light-mode .border-gray-800,
.light-mode .border-gray-700 {
  border-color: #e2e8f0 !important; /* Soft light grey borders */
}

/* Theme Toggle Button Hover (Desktop Nav) */
.light-mode #theme-toggle:hover,
.light-mode #theme-toggle-mobile:hover {
    background-color: #f1f5f9 !important;
}

/* Chat Widget Styling */
.light-mode #chat-panel {
    background-color: #ffffff !important;
}

/* Header Transparency */
.light-mode #main-header {
    background-color: rgba(255, 255, 255, 0.95) !important; /* White with slight opacity */
}
/* Footer Background in Light Mode */
.light-mode footer {
    background-color: #f8fafc !important; /* Very Light Grey for footer */
}   

/* Respect reduced-motion preference: reduce animations */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: 0.001ms !important; animation-iteration-count: 1 !important; transition-duration: 0.001ms !important; }
}

/* ---------------------------------------------
   Responsive Layout Helpers (safe, conservative)
   These rules improve stacking, spacing and readability
   across common device widths without altering styles
   used by the rest of the stylesheet.
   --------------------------------------------- */

/* Large tablets and small laptops */
@media (max-width: 1200px) {
  .container { padding-left: 1rem; padding-right: 1rem; }
  #particles-canvas { max-height: 420px; }
  /* Slightly reduce hero vertical spacing */
  #hero { padding-top: 4.5rem; padding-bottom: 4.5rem; }
}

/* Tablet (iPad) fixes: keep layout readable and prevent overlapping content */
@media (max-width: 1024px) {
  /* Ensure hero stacks vertically and centers content */
  #hero { padding-top: 3.5rem; padding-bottom: 3.5rem; }
  #hero .relative.max-w-7xl { display: flex !important; flex-direction: column !important; align-items: center !important; }
  /* Make both halves full width so image stacks under text */
  .md\:w-1\/2, .w-1\/2 { width: 100% !important; max-width: 720px; }

  /* Reduce particle canvas prominence on tablets */
  #particles-canvas { max-height: 360px; opacity: 0.18; pointer-events: none; }

  /* Tighten header spacing and nav font-size for medium screens */
  #main-header { padding-left: 0.75rem; padding-right: 0.75rem; }
  #main-header .text-2xl { font-size: 1rem; }
  #main-header nav ul { gap: 0.5rem; }

  /* Make project cards more vertical and readable */
  .project-card img { height: 220px; object-fit: cover; }
  .project-card .p-6 { padding: 1rem; }

  /* Chat panel full-width with safe margins on tablets */
  #chat-panel { width: calc(100vw - 48px) !important; right: 24px !important; left: 24px !important; }

  /* Testimonials: ensure carousel fits */
  #testimonial-carousel { padding-left: 1rem; padding-right: 1rem; }
}

/* Typical tablets */
@media (max-width: 1024px) {
  /* Make two-column layouts stack if they use common helper classes */
  .two-col, .grid-2, .split { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
  .two-col.stack, .grid-2.stack { grid-template-columns: 1fr; }

  /* Adjust navigation spacing */
  #main-header nav ul { gap: 0.5rem; }
  #main-header .nav-link { padding: 0.45rem 0.6rem; }

  /* Project grid: keep cards manageable */
  .project-grid { grid-template-columns: repeat(2, 1fr); }

  /* Testimonial: prefer a simple vertical flow */
  .testimonials, .testimonial-list { display: block; }
  .testi-item { position: relative; width: 100%; }

  /* Reduce large type slightly for tablets */
  h1 { font-size: clamp(1.6rem, 4.2vw, 3.2rem); }
}

/* Small tablets and large phones */
@media (max-width: 768px) {
  /* Stack hero content vertically (left/right -> top/bottom) */
  #hero .hero-inner, #hero .hero-row { display: block; }
  #hero .hero-content, #hero .hero-media { width: 100%; }
  #hero { padding-top: 3.2rem; padding-bottom: 3.2rem; }

  /* Navigation: show mobile affordance and make links easier to tap */
  #main-header nav { display: none; }
  #menu-button { display: inline-flex; } /* show mobile menu toggle if hidden */
  #mobile-menu { position: fixed; top: 0; left: 0; right: 0; z-index: 999; }
  #mobile-menu a { display: block; padding: 0.85rem 1rem; }

  /* Make cards and images full width and stack nicely */
  .project-grid { grid-template-columns: 1fr; }
  .project-card { margin-left: 0; margin-right: 0; }

  /* Typing target and hero headings scale down for narrow viewports */
  .typing-target { font-size: 1.05rem; }
  h1 { font-size: clamp(1.5rem, 6.5vw, 2.4rem); }

  /* Chat widget should not overflow on small screens */
  #chat-panel { right: 10px; left: 10px; width: auto; }
}

/* Small phones */
@media (max-width: 480px) {
  /* Reduce paddings globally for very small screens */
  .container, .site-section { padding-left: 0.75rem; padding-right: 0.75rem; }

  /* Hero: tighter spacing and smaller media */
  #hero { padding-top: 2.5rem; padding-bottom: 2.5rem; }
  #hero .hero-media img { max-height: 260px; object-fit: cover; }

  /* Ensure clickable targets meet tappable size */
  button, .btn, .nav-link { padding: 0.6rem 0.9rem; font-size: 0.95rem; }

  /* Testimonials: flow vertically, no absolute positioning needed */
  .testi-item { position: relative !important; transform: none !important; left: auto !important; top: auto !important; }

  /* Footer: stack columns */
  footer .footer-grid { display: grid; grid-template-columns: 1fr; gap: 1rem; }

  /* Hide heavy visuals for ultra-small screens */
  #particles-canvas { display: none !important; }
}

/* Extra-large desktop tweaks (improve readability on very wide screens) */
@media (min-width: 1400px) {
  .container { max-width: 1280px; margin: 0 auto; }
  h1 { max-width: 1100px; }
}

/* Utilities: helper to safely stack two columns when needed */
.stack-on-mobile { display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; }
@media (max-width: 768px) { .stack-on-mobile { grid-template-columns: 1fr; } }

/* End responsive helpers */